<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Dashboard - Hydrafiles</title>
		<link rel="stylesheet" href="./style.css" />
		<script src="https://cdn.tailwindcss.com"></script>
	</head>

	<body>
		<header>
			<h1 class="text-2xl">Hydrafiles</h1>
			<p>The (P2P) web privacy layer.</p>
			<p>Donate Monero:<br />83BGShZv9hU9P9SRLjhRGJYQ4WatMNazKVFG6eKyHc6HguBzu1vH54R7mQJaZzeXhx4jDxnkNJMizLXrFFN4ARffEwFj82y</p>
		</header>

		<div id="startHydrafiles" class="relative py-3 sm:max-w-xl sm:mx-auto my-12">
			<div class="absolute inset-0 bg-gradient-to-r from-cyan-400 to-sky-500 shadow-lg transform -skew-y-6 sm:skew-y-0 sm:-rotate-6 sm:rounded-3xl"></div>
			<div class="relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20">
				<div class="max-w-md mx-auto">
					<h1 class="text-2xl font-semibold">Login or Signup</h1>
					<div class="divide-y divide-gray-200">
						<div class="py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7">
							<div class="relative">
								<input id="email" name="email" type="text" class="peer placeholder-transparent h-10 w-full border-b-2 border-gray-300 text-gray-900 focus:outline-none focus:borer-rose-600" placeholder="Email address">
								<label for="email" class="absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm">Email Address</label>
							</div>
							<div class="relative">
								<input id="password" name="password" type="password" class="peer placeholder-transparent h-10 w-full border-b-2 border-gray-300 text-gray-900 focus:outline-none focus:borer-rose-600" placeholder="Password">
								<label for="password" class="absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm">Password</label>
							</div>
							<div class="relative flex items-center">
									<input id="rememberMe" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
									<label for="rememberMe" class="ml-2 block text-sm text-gray-900">Remember me</label>
							</div>
							<button id="startHydrafilesButton" type="submit" class="w-full flex items-center bg-cyan-500 text-white border border-gray-300 rounded-lg shadow-md px-6 py-2 text-sm font-medium text-gray-800 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 justify-center">Start Hydrafiles</button>
							<p class="text-sm">Your credentials won't be saved or sent anywhere, they will be used locally to derive your private key. A lost password can't be recovered.</p>
							<p class="text-sm text-red-500">You can create multiple accounts under the same email using different passwords. Each unique email:password combination is treated as an individual account. There is no such thing as a "wrong password".</p>
							<p class="text-sm">Ensure the email you enter is unique, and use best practices for your password like any other site.</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div id="main" class="hidden flex h-screen w-screen">
			<aside id="default-sidebar" aria-label="Sidebar" class="w-64 transition-transform -translate-x-full sm:translate-x-0">
					<div class="h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800">
						<ul class="space-y-2 font-medium">
							<li>
								<a href="/" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
									<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z" /><path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z" /></svg>
									<span class="ms-3">Documentation</span>
								</a>
							</li>
							<li>
								<a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
									<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"viewBox="0 0 22 21"><path d="M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"></path><path d="M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"></path></svg>
									<span class="flex-1 ms-3 whitespace-nowrap">Statistics</span>
								</a>
							</li>
							<li>
								<a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
									<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18"><path d="M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"></path></svg>
									<span class="flex-1 ms-3 whitespace-nowrap">Peers</span>
								</a>
							</li>
							<li>
								<a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
									<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 20"><path d="M17 5.923A1 1 0 0 0 16 5h-3V4a4 4 0 1 0-8 0v1H2a1 1 0 0 0-1 .923L.086 17.846A2 2 0 0 0 2.08 20h13.84a2 2 0 0 0 1.994-2.153L17 5.923ZM7 9a1 1 0 0 1-2 0V7h2v2Zm0-5a2 2 0 1 1 4 0v1H7V4Zm6 5a1 1 0 1 1-2 0V7h2v2Z"></path></svg>
									<span class="flex-1 ms-3 whitespace-nowrap">Files</span>
								</a>
							</li>
							<li>
								<a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
									<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 20"><path d="M17 5.923A1 1 0 0 0 16 5h-3V4a4 4 0 1 0-8 0v1H2a1 1 0 0 0-1 .923L.086 17.846A2 2 0 0 0 2.08 20h13.84a2 2 0 0 0 1.994-2.153L17 5.923ZM7 9a1 1 0 0 1-2 0V7h2v2Zm0-5a2 2 0 1 1 4 0v1H7V4Zm6 5a1 1 0 1 1-2 0V7h2v2Z"></path></svg>
									<span class="flex-1 ms-3 whitespace-nowrap">Services</span>
								</a>
							</li>
							<li>
								<a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
									<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 20"><path d="M17 5.923A1 1 0 0 0 16 5h-3V4a4 4 0 1 0-8 0v1H2a1 1 0 0 0-1 .923L.086 17.846A2 2 0 0 0 2.08 20h13.84a2 2 0 0 0 1.994-2.153L17 5.923ZM7 9a1 1 0 0 1-2 0V7h2v2Zm0-5a2 2 0 1 1 4 0v1H7V4Zm6 5a1 1 0 1 1-2 0V7h2v2Z"></path></svg>
									<span class="flex-1 ms-3 whitespace-nowrap">Chat</span>
								</a>
							</li>
							<li>
								<a href="#" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
									<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 20"><path d="M17 5.923A1 1 0 0 0 16 5h-3V4a4 4 0 1 0-8 0v1H2a1 1 0 0 0-1 .923L.086 17.846A2 2 0 0 0 2.08 20h13.84a2 2 0 0 0 1.994-2.153L17 5.923ZM7 9a1 1 0 0 1-2 0V7h2v2Zm0-5a2 2 0 1 1 4 0v1H7V4Zm6 5a1 1 0 1 1-2 0V7h2v2Z"></path></svg>
									<span class="flex-1 ms-3 whitespace-nowrap">Browser</span>
								</a>
							</li>
					</ul>
				</div>
			</aside>
			<div class="p-4 w-[100%]">
				<section class="hidden" id="statistics">
					<h2 class="text-xl font-bold">Statistics</h2>
					<p>This dashboard is 100% decentralised. It does not rely on any centralised server to function.</p>
					<div id="syncFilesProgress"></div>
					<div id="charts"></div>
				</section>

					<section class="hidden" id="config">
						<h2 class="text-xl font-bold">Config</h2>
						<div id="config"></div>
						<button id="saveConfig">Save Config</button>
					</section>

					<div class="hidden" id="peers">
						<div class="grid grid-cols-1 gap-2 w-fit rounded-xl bg-blue-500 text-white p-2 shadow-blue-200 dark:shadow-blue-900 shadow-lg">
							<div class="flex gap-4">
								<div class="flex-1 flex flex-col gap-1 p-2">
									<span id="uptime" class="text-xl tracking-tight leading-none">0 Seconds</span><span class="text-xs font-bold text-blue-100">Uptime</span>
								</div>
								<div class="flex-1 flex flex-col gap-1 p-2">
									<span id="peersCount" class="text-xl tracking-tight leading-none">0</span><span class="text-xs font-bold text-blue-100">HTTP Peers</span>
								</div>
							</div>
							<div class="bg-blue-700 p-2 rounded-lg">
								<div class="flex flex-col gap-1 p-2">
									<span id="rtcWallet" class="text-l tracking-tight leading-none">0x</span>
									<span class="text-xs font-bold text-blue-100">RTC Wallet</span>
								</div>
							</div>
						</div>
						<section>
							<h2 class="text-xl font-bold">Peers</h2>
							<h3 class="text-l font-bold">HTTP Peers</h3>
							<p>Here is a list of peers you know exist and are communicating with.</p>
							<ul id="httpPeers"></ul>
							<h2 class="text-l mt-2 font-bold">WebRTC Peers</h3>
							<table id="peerTable">
								<thead>
									<tr>
										<th>ID</th>
										<th>Type</th>
										<th>Signaling State</th>
										<th>ICE Gathering State</th>
										<th>ICE Connection State</th>
										<th>Connection State</th>
										<th>Channel State</th>
										<th>SCTP State</th>
									</tr>
								</thead>
								<tbody></tbody>
							</table>
							<div id="peerNetwork" class="w-screen h-screen"></div>
						</section>
					</div>

					<div class="hidden" id="files">
						<div class="grid grid-cols-1 gap-2 w-fit rounded-xl bg-blue-500 text-white p-2 shadow-blue-200 dark:shadow-blue-900 shadow-lg">
							<div class="flex gap-4">
								<div class="flex-1 flex flex-col gap-1 p-2">
									<span id="knownFiles" class="text-xl tracking-tight leading-none">0 Seconds</span><span class="text-xs font-bold text-blue-100">Known Files</span>
								</div>
								<div class="flex-1 flex flex-col gap-1 p-2">
									<span id="storedFiles" class="text-xl tracking-tight leading-none">0</span><span class="text-xs font-bold text-blue-100">Stored Files</span>
								</div>
								<div class="flex-1 flex flex-col gap-1 p-2">
									<span id="downloadsServed" class="text-xl tracking-tight leading-none">0</span><span class="text-xs font-bold text-blue-100">Downloads Served</span>
								</div>
								<div class="flex-1 flex flex-col gap-1 p-2">
									<span id="processingFiles" class="text-xl tracking-tight leading-none">0</span><span class="text-xs font-bold text-blue-100">Processing Files</span>
								</div>
								<div class="flex-1 flex flex-col gap-1 p-2">
									<span id="balance" class="text-xl tracking-tight leading-none">0</span><span class="text-xs font-bold text-blue-100">Balance</span>
								</div>
							</div>
							<div class="bg-blue-700 p-2 rounded-lg">
								<div class="flex flex-col gap-1 p-2">
									<span class="text-l tracking-tight leading-none" id="filesWallet">0x</span>
									<span class="text-xs font-bold text-blue-100">Files Wallet</span>
								</div>
							</div>
						</div>
						<section>
							<h2 class="text-xl font-bold">Files</h2>
							<button id="toggleColumnsButton" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Toggle Advanced Columns</button>
							<table>
								<thead>
									<tr id="table-header"></tr>
								</thead>
								<tbody id="files"><tr><td>Loading...</td></tr></tbody>
							</table>
						</section>
					</div>

					<div class="hidden" id="services">
						<h2 class="text-xl font-bold mb-4">Services</h2>
						<h3 class="text-xl font-bold mb-4">Owned Services</h3>
						<button id="createHandler" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">Create Handler</button>
						<span id="testResults"></span>
						<div id="servicesList"></div>
						<h3 class="text-xl font-bold mb-4">Known Services</h3>
						<div id="knownServices"></div>
					</div>

					<div class="hidden" id="chat">
						<h2 class="text-xl font-bold mb-4">Chat</h2>
						<p>This chat is a demo of Hydrafiles in action. The chat is self hosted, anonymous, and runs in your browser using Hydrafiles services.</p>
						<p>Enter a peer's address below, or give them your address to start a chat.</p>
						<p>
							Todo:<br>
							- Receive messages when offline<br>
							- Encrypt nessages
						</p>
						<p>Your Address: <span id="messengerAddress"></span></p>
						<input id="peerAddress" rows="1" class="block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Peer Address (0x...)">
						<div id="messages"></div>
						<label for="message" class="sr-only">Your message</label>
						<div class="flex items-center py-2 px-3 bg-gray-50 rounded-lg dark:bg-gray-700">
							<button type="button" class="inline-flex justify-center p-2 text-gray-500 rounded-lg cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></button>
							<button type="button" class="p-2 text-gray-500 rounded-lg cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd"></path></svg></button>
							<textarea id="message" rows="1" class="block mx-4 p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Your message..."></textarea>
							<button type="submit" id="sendMessage" class="inline-flex justify-center p-2 text-blue-600 rounded-full cursor-pointer hover:bg-blue-100 dark:text-blue-500 dark:hover:bg-gray-600"><svg class="w-6 h-6 rotate-90" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg></button>
						</div>
					</div>

					<div class="hidden" id="browser">
    <!-- Browser Chrome -->
    <div class="w-full h-screen flex flex-col bg-white shadow-lg">
        <!-- Tab Bar -->
        <div class="flex items-center h-10 bg-gray-200 px-2">
            <!-- Active Tab -->
            <div class="flex items-center min-w-[200px] h-8 px-4 bg-white rounded-t-lg">
                <div class="w-4 h-4 rounded-full bg-gray-500"></div>
                <span class="ml-2 text-sm truncate">New Tab</span>
                <button class="ml-auto p-1 hover:bg-gray-100 rounded-full">
                    <span class="text-gray-600">×</span>
                </button>
            </div>

            <!-- Inactive Tab -->
            <div class="flex items-center min-w-[200px] h-8 px-4 bg-gray-100 rounded-t-lg ml-1">
                <div class="w-4 h-4 rounded-full bg-gray-400"></div>
                <span class="ml-2 text-sm text-gray-600 truncate">GitHub - Where the world builds software</span>
                <button class="ml-auto p-1 hover:bg-gray-200 rounded-full">
                    <span class="text-gray-500">×</span>
                </button>
            </div>

            <!-- New Tab Button -->
            <button class="ml-2 p-1 hover:bg-gray-300 rounded-full">
                <span class="text-gray-600 font-bold">+</span>
            </button>
        </div>

        <!-- Navigation Bar -->
        <div class="flex items-center space-x-2 p-2 bg-white border-b">
            <!-- Navigation Controls -->
            <div class="flex space-x-1">
                <button class="p-2 hover:bg-gray-100 rounded-full" disabled>
                    <span class="text-gray-400">←</span>
                </button>
                <button class="p-2 hover:bg-gray-100 rounded-full" disabled>
                    <span class="text-gray-400">→</span>
                </button>
                <button class="p-2 hover:bg-gray-100 rounded-full">
                    <span class="text-gray-600">↻</span>
                </button>
            </div>

            <!-- URL Bar -->
            <div class="flex-1 flex items-center bg-gray-100 rounded-full px-4 py-2">
                <!-- Security Icon -->
                <span class="text-green-600 mr-2">🔒</span>
                
                <!-- URL Input -->
                <input type="text" 
                       id="urlInput"
											 value="https://example.com/test"
                       class="flex-1 bg-transparent outline-none text-sm">
                
                <!-- Load Button - class="opacity-75" -->
                <button id="loadSite" class="ml-2 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-full text-sm transform transition-all duration-200 focus:ring-2 focus:ring-blue-300">
                    Go
                </button>
                
                <!-- Bookmark Star -->
                <button class="ml-2 text-gray-400 hover:text-gray-600">★</button>
            </div>

            <!-- Extension Area -->
            <div class="flex items-center space-x-2">
                <button class="p-2 hover:bg-gray-100 rounded-full">
                    <span class="text-gray-600">⋮</span>
                </button>
            </div>
        </div>

        <!-- Content Area -->
        <div class="flex-1 bg-white p-4">
            <div class="w-full h-full flex items-center justify-center text-gray-400">
                <div id="urlBody"></div>
            </div>
        </div>
    </div>
					</div>
			</div>
		</div>
		<script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
		<script src="./dashboard.js" type="module"></script>
	</body>
</html>
